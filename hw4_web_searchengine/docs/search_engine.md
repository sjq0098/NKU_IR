# 作业4：NKU 校内 Web 搜索引擎

## 1. 作业要求

本次作业针对南开校内资源构建 Web 搜索引擎，为用户提供南开信息的查询服务和个性化推荐。

> 作业为半开放性题目，你可以针对某一方面的资源构建专题搜索，如南开动漫资源站、南开新闻资源站等；也可以制作综合性资源搜索平台，类似百度、Google 等。
>
> 具体实现细节自定，但**请至少包含本手册中涉及到的模块**。
>
> 可借助各种工具和包，推荐采用 woosh，以减少重复工作量。

## 2. 具体实现模块

本次作业主要包含以下五个步骤：

1. 网页抓取 （Crawling）
2. 文本索引 （Indexing）
3. 链接分析 （Link Analysis）
4. 查询服务 （Query Service）
5. 个性化查询 （Personalization）

### 2.1 网页抓取

* 对南开校内资源进行抓取，依据自己主题而定。
* **抓取网页数量至少 10 万**，低于该数量将酌情扣分。
* 请在校内环境中进行“礼貌抓取”，遵循爬虫协议（robots.txt）。

### 2.2 文本索引

* 对抓取到的网页及其锚文本构建索引。
* 建议设置多个索引域，如网页标题、URL、锚文本等。

### 2.3 链接分析

* 使用 PageRank 等算法进行链接分析，评估网页权重。

### 2.4 查询服务

基于向量空间模型，结合链接分析结果对查询结果进行排序，并至少实现以下六种高级搜索功能：

#### 2.4.1 站内查询

* 基本关键字查询。

#### 2.4.2 文档查询

* 支持对文档资源（.doc/.docx、.pdf、.xls/.xlsx 等）的查询与下载。

#### 2.4.3 短语查询

* 支持多词短语查询。
* 注意区分不同上下文，例如“南开 1 大学 2”与“南开 1 是一所综合性大学 2”。

#### 2.4.4 通配查询

* 支持通配符（正则）查询：

  * `*` 表示多个字符，`?` 表示单个字符。
  * 例如：`温*` 查询所有姓温的老师；`计?` 查询“计网”、“计算”等词。

#### 2.4.5 查询日志

* 参考百度查询历史功能，记录并展示用户历史查询。

#### 2.4.6 网页快照

* 搜索引擎在收录网页时，对网页进行快照备份。
* 当用户点击“快照”时，展示存档时的页面内容。
* 示例：2008 年 7 月 20 日查看的 Google 快照，快照显示为 7 月 10 日存档内容。

### 2.5 个性化查询

* 针对不同登录用户提供不同排名结果。
* 建议实现注册/登录系统，通过用户信息调整排序算法。

### 2.6 Web 界面

* 界面美观度不计分，以功能为主。
* 可以使用命令行终端或网页界面，两者评分相同。

### 2.7 个性化推荐

* 推荐可分为：搜索联想推荐 和 内容分析推荐。
* 任选一种实现即可。

## 3. 评分标准

* **代码（90%）**

  * 网页抓取：10%
  * 文本索引：10%
  * 链接分析：10%
  * 查询服务：35% （完成一个功能得 10%，后续每实现一个增 5%，最高 35%）
  * 个性化查询：10%
  * Web 界面：5%
  * 个性化推荐：10%

* **说明材料（10%）**

  * 文档：5%
  * 演示视频（≤15 分钟）：5%

## 4. 作业提交

* 持续时间：约五周，**截止时间：2025 年 6 月 11 日（周三）23:59**。
* 提交附件：一个压缩包（.zip/.rar）。
* 邮件及文件命名格式：`学号_姓名_hw4`，例如 `1811412_戚晓睿_hw4.zip`。
* 提交邮箱：`ir24fall@163.com`。

压缩包目录结构示例：

```
1811412_戚晓睿_hw4.zip
├── code           # 源代码
├── docs           # 说明文档
└── video_demo     # 演示视频（≤15min）
```
